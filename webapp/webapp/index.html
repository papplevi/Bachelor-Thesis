<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Smart Home</title>
    <link rel="stylesheet" type="text/css" href="/styles/styles.scss">
    <script
        id="sap-ui-bootstrap"
        src="https://openui5.hana.ondemand.com/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_bluecrystal"
        data-sap-ui-libs="sap.m, sap.tnt, sap.ui.table, sap.ui.core"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-resourceroots='{"SmartHome": "./"}'
        data-sap-ui-xx-componentPreload="off">
    </script>
    <script language="javascript" type="text/javascript" src="flot/jquery.flot.min.js"></script>
    <script language="javascript" type="text/javascript" src="flot/jquery.flot.categories.js"></script>
    <script language="javascript" type="text/javascript" src="flot/jquery.flot.resize.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src='https://cdn3.devexpress.com/jslib/17.1.6/js/dx.all.js'></script>
    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <!--src="https://openui5.hana.ondemand.com/1.52.9/resources/sap-ui-core.js"-->
    <!--src="sap-runtime/resources/sap-ui-core.js"-->
    <!--hsla(360, 15%, 15%, 1)-->
    <script>
        sap.ui.getCore().attachInit(function () {
        let shellBackground =  new sap.m.Shell({
            id: "background",
            backgroundImage: "/res/background-stars.jpg",
            app : new sap.ui.core.ComponentContainer({
                name : "SmartHome",
                height : "100%"
            })
        }).placeAt("content");

        window.addEventListener("changeLight", function (e) {
            let ledState = e.detail;

            if (ledState == "on") {
                shellBackground.setBackgroundImage("/res/background-sun.jpg");
            } else {
                shellBackground.setBackgroundImage("/res/background-stars.jpg");
            }
        });

        sap.ui.getCore().loadLibrary("openui5.googlemaps", "../openui5/googlemaps/");
        // To be used to dispatch changeLight event
        // let event = new Event("changeLight");
        // window.dispatchEvent(event);
    });
    </script>
</head>
<body class="sapUiBody" id="content">
</html>